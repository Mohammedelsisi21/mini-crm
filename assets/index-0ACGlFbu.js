import{r as j,j as e}from"./index-Bat4-_5r.js";import{M as F}from"./MainCardPage-BnPj-uG9.js";import{S as d}from"./ShearCard-DNjd7wbO.js";import{C as v,a as h,M as C,P as S,T as I,b as L}from"./TableToolbar-BYEU3hQp.js";import{F as f}from"./FeatureIcon-fScpxh0d.js";import{B as o}from"./Button-BceVHNFl.js";import{I as x}from"./Input-BEYIjWH7.js";import{L as l}from"./Label-B3BR31q4.js";import{u as y,o as N,E as n,a as b}from"./index-YgTaThbJ.js";import{S as m}from"./Select-DfavUB84.js";import{T as w}from"./Textarea-HCOm4G_-.js";import{U as p}from"./user-jUW1qVqG.js";import{P as g}from"./phone-DC4xeT-p.js";import{F as k}from"./file-text-NiCDKlVD.js";import{U as O}from"./users-CCa1iZFz.js";import"./createLucideIcon-DUxQVRve.js";import"./search-C6VbZELh.js";import"./chevron-down-C45pbtzN.js";const P=({communication:a})=>{const[s,r]=j.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(v,{variant:"view",onClick:()=>r(!0)}),e.jsxs(h,{variant:"view",desc:"عرض معلومات التواصل.",isOpen:s,setIsOpen:r,children:[e.jsxs("div",{className:"space-y-4 font-main text-gray-700",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold",children:"اسم العميل: "})," ",a.username]})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold",children:"اسم الموظف: "})," ",a.employee]})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold",children:"نوع االتواصل: "})," ",a.contactType]})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold",children:"حالة التواصل: "})," ",a.status]})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold",children:"وصف التواصل: "})," ",a.description]})})]}),e.jsx("div",{className:"flex gap-3 pt-4 justify-end",children:e.jsx(o,{ariaLabel:"cancel-viwe",variant:"blue",w:"w-fit",onClick:()=>r(!1),children:"اغلاق"})})]})]})},M=({communication:a})=>{const[s,r]=j.useState(!1),{register:c,handleSubmit:t,formState:{errors:i}}=y({defaultValues:a,resolver:N(b)}),u=t(T=>{console.log(T),r(!1)});return e.jsxs(e.Fragment,{children:[e.jsx(v,{variant:"update",onClick:()=>r(!0)}),e.jsx(h,{desc:"تحديث بيانات التواصل.",variant:"update",isOpen:s,setIsOpen:r,children:e.jsxs("form",{className:"space-y-5 font-main",onSubmit:u,children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"username",text:"اسم العميل"}),e.jsx(x,{...c("username"),type:"text",name:"username",id:"username",pl:"pl-4",error:!!i.username,placeholder:"أدخل اسم العميل",autoFocus:!0,icon:e.jsx(p,{size:24})}),e.jsx(n,{error:i.username?.message})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"employee",text:"اسم الموظف"}),e.jsx(x,{...c("employee"),type:"text",name:"employee",id:"employee",pl:"pl-4",error:!!i.employee,placeholder:"أدخل اسم الموظف",icon:e.jsx(p,{size:24})}),e.jsx(n,{error:i.employee?.message})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"description",text:"وصف التواصل"}),e.jsx(w,{...c("description"),name:"description",id:"description",error:!!i.description,placeholder:"أدخل وصف للتواصل"}),e.jsx(n,{error:i.description?.message})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"contactType",text:"نوع التواصل"}),e.jsxs(m,{id:"contactType",...c("contactType"),error:!!i.contactType,children:[e.jsx("option",{value:"",children:"اختر نوع التواصل"}),e.jsx("option",{value:"call",children:"مكالمة هاتفية"}),e.jsx("option",{value:"email",children:"بريد إلكتروني"}),e.jsx("option",{value:"meeting",children:"اجتماع"}),e.jsx("option",{value:"whatsapp",children:"واتساب"}),e.jsx("option",{value:"other",children:"أخرى"})]}),e.jsx(n,{error:i.contactType?.message})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"status",text:"حالة التواصل"}),e.jsxs(m,{id:"status",...c("status"),error:!!i.status,children:[e.jsx("option",{value:"",children:"اختر الحالة"}),e.jsx("option",{value:"urgent",children:"عاجلة"}),e.jsx("option",{value:"medium",children:"متوسطة"}),e.jsx("option",{value:"normal",children:"عادي"})]}),e.jsx(n,{error:i.status?.message})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 justify-end",children:[e.jsx(o,{ariaLabel:"cancel-update",variant:"outline",w:"w-fit",onClick:()=>r(!1),children:"إلغاء"}),e.jsx(o,{ariaLabel:"cancel-update",type:"submit",variant:"warning",w:"w-fit",children:"تحديث"})]})]})})]})},z=({id:a})=>{const[s,r]=j.useState(!1),c=()=>{console.log(a),r(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(v,{variant:"delete",onClick:()=>r(!0)}),e.jsxs(h,{desc:"هل أنت متأكد من حذف هذا التواصل؟ لا يمكن استرجاعه.",variant:"delete",isOpen:s,setIsOpen:r,children:[e.jsxs("div",{className:"py-4 font-main text-gray-700",children:[e.jsx("p",{children:"سيتم حذف بيانات هذا التواصل نهائيًا."}),e.jsx("p",{className:"mt-1",children:"لن تتمكن من استعادة المعلومات بعد الحذف."})]}),e.jsxs("div",{className:"flex gap-3 pt-4 justify-end",children:[e.jsx(o,{ariaLabel:"cancel-delete",variant:"outline",w:"w-fit",onClick:()=>r(!1),children:"إلغاء"}),e.jsx(o,{ariaLabel:"confirm-delete",variant:"danger",w:"w-fit",type:"submit",onClick:c,children:"حذف التواصل"})]})]})]})},U=[{username:"أحمد محمد",contactType:"مكالمة هاتفية",employee:"سارة أحمد",status:"عاجل",description:"العميل مهتم بالخدمة ويريد معرفة الأسعار والمواعيد.",since:4},{username:"فاطمة علي",contactType:"بريد إلكتروني",employee:"محمد حسن",status:"متوسط",description:"تم إرسال عرض سعر والعميلة تفاوض على السعر.",since:3},{username:"عمر خالد",contactType:"اجتماع",employee:"نور الدين",status:"عادي",description:"تم الاتفاق على مشروع جديد.",since:1}],E=()=>{const a=["العميل","وسيلة التواصل","الموظف","الحالة","الوصف","منذ","الإجراءات"];return e.jsx(e.Fragment,{children:e.jsx(C,{dataText:a,children:U.map((s,r)=>e.jsxs("tr",{className:"hover:bg-primary-50 transition-all group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-gradient-primary w-11 h-11 rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"text-white font-bold text-sm",children:s.username[0]})}),e.jsx("div",{children:e.jsx("p",{className:"font-bold text-gray-800",children:s.username})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("p",{className:"text-gray-700 font-medium",children:s.contactType})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("p",{className:"text-gray-700 font-medium",children:s.employee})}),e.jsx("td",{className:"px-6 py-4",children:s.status==="عاجل"?e.jsx(f,{color:"error",text:s.status}):s.status==="متوسط"?e.jsx(f,{color:"success",text:s.status}):e.jsx(f,{color:"default",text:s.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("p",{className:"text-gray-700 font-medium",children:s.description})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("p",{className:"text-gray-600 text-sm",children:["منذ ",s.since," ",s.since===1?"يوم":"أيام"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(P,{communication:s}),e.jsx(M,{communication:s}),e.jsx(z,{id:r})]})})]},r))})})},B=()=>{const[a,s]=j.useState(!1),{register:r,handleSubmit:c,formState:{errors:t}}=y({resolver:N(b)}),i=c(u=>{console.log(u),s(!1)});return e.jsxs(e.Fragment,{children:[e.jsxs(o,{ariaLabel:"create-cummunication",w:"w-fit",onClick:()=>s(!0),children:[e.jsx(S,{size:20}),e.jsx("span",{children:"إضافة تواصل"})]}),e.jsx(h,{desc:"إدخال بيانات التواصل جديد.",variant:"create",isOpen:a,setIsOpen:s,children:e.jsxs("form",{className:"space-y-5 font-main",onSubmit:i,children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"username",text:"اسم العميل"}),e.jsx(x,{...r("username"),type:"text",name:"username",id:"username",pl:"pl-4",error:!!t.username,placeholder:"أدخل اسم العميل",autoFocus:!0,icon:e.jsx(p,{size:24})}),e.jsx(n,{error:t.username?.message})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"employee",text:"اسم الموظف"}),e.jsx(x,{...r("employee"),type:"text",name:"employee",id:"employee",pl:"pl-4",error:!!t.employee,placeholder:"أدخل اسم الموظف",autoFocus:!0,icon:e.jsx(p,{size:24})}),e.jsx(n,{error:t.employee?.message})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"description",text:"وصف التواصل"}),e.jsx(w,{...r("description"),name:"description",id:"description",error:!!t.description,placeholder:"أدخل وصف للتواصل"}),e.jsx(n,{error:t.description?.message})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"contactType",text:"نوع التواصل"}),e.jsxs(m,{id:"contactType",...r("contactType"),error:!!t.contactType,children:[e.jsx("option",{value:"",children:"اختر نوع التواصل"}),e.jsx("option",{value:"call",children:"مكالمة هاتفية"}),e.jsx("option",{value:"email",children:"بريد إلكتروني"}),e.jsx("option",{value:"meeting",children:"اجتماع"}),e.jsx("option",{value:"whatsapp",children:"واتساب"}),e.jsx("option",{value:"other",children:"أخرى"})]}),e.jsx(n,{error:t.contactType?.message})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"status",text:"حالة التواصل"}),e.jsxs(m,{id:"status",...r("status"),error:!!t.status,children:[e.jsx("option",{value:"",children:"اختر الحالة"}),e.jsx("option",{value:"urgent",children:"عاجلة"}),e.jsx("option",{value:"medium",children:"متوسطة"}),e.jsx("option",{value:"normal",children:"عادي"})]}),e.jsx(n,{error:t.status?.message})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 justify-end",children:[e.jsx(o,{ariaLabel:"cancel-create",variant:"outline",w:"w-fit",onClick:()=>s(!1),children:"إلغاء"}),e.jsx(o,{ariaLabel:"cancel-create",type:"submit",variant:"success",w:"w-fit",children:"حفظ"})]})]})})]})},re=()=>e.jsxs("div",{className:"space-y-5",children:[e.jsx(F,{title:"سجل التواصلات",des:"تتبع جميع المكالمات والرسائل مع العملاء",children:e.jsx(B,{})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 w-full",children:[e.jsx(d,{title:"إجمالي المكالمات",number:31,variant:"success",Icon:g}),e.jsx(d,{title:"إجمالي رسائل البريد",number:15,variant:"primary",Icon:k}),e.jsx(d,{title:"إجمالي الاجتماعات",number:5,variant:"secondary",Icon:O}),e.jsx(d,{title:"إجمالي رسائل الواتساب",number:11,variant:"warning",Icon:g})]}),e.jsx(I,{placeholder:"البحث عن منتج التواصلات..."}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx(E,{}),e.jsx(L,{})]})]});export{re as default};
