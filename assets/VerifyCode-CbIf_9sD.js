import{r,j as e,u as h,z as y}from"./index-GiB1n68U.js";import{A as g,F as b}from"./FormTitle-C2bMZ4I7.js";import{L as N}from"./Label-DdmoZ76R.js";import{A as w}from"./AuthLink-m2Nq928s.js";import{C as I}from"./CardAuth-CAOcaJCI.js";import{M as C}from"./mail-DEymY0Bn.js";import{A as K}from"./arrow-left-CBjAEa7Y.js";import{I as R}from"./info-CWcOqpnn.js";import"./createLucideIcon-CQzeoXZc.js";const u=r.forwardRef(({next:p,prev:n,...m},d)=>{const[v,a]=r.useState(!1),o=s=>{const t=s.currentTarget;t.value=t.value.replace(/[^0-9]/g,""),t.value?a(!0):a(!1),t.value&&p&&p.current?.focus()},l=s=>{const t=s.currentTarget;s.key==="Backspace"&&!t.value&&n&&n.current?.focus()};return e.jsx(e.Fragment,{children:e.jsx("input",{ref:d,...m,type:"text",maxLength:1,pattern:"[0-9]",inputMode:"numeric",onInput:o,onKeyDown:l,className:`w-14 h-14 text-center text-2xl font-semibold border-2 rounded-xl transition-all duration-300 focus:border-primary-500 ${m.className}
      ${v?"bg-primary-100 outline-4 outline-gray-100 border-primary-500":"border-gray-300 outline-none"}`})})}),D=()=>{const p=h(),[n,m]=r.useState(60),[d,v]=r.useState(!1),a=r.useRef(null),o=r.useRef(null),l=r.useRef(null),s=r.useRef(null),t=r.useRef(null),f=r.useRef(null);r.useEffect(()=>{const x=setInterval(()=>{m(i=>i>0?i-1:0)},1e3);return()=>clearInterval(x)},[]);const c=()=>{const x=[a.current?.value,o.current?.value,l.current?.value,s.current?.value,t.current?.value,f.current?.value];v(x.every(i=>i&&i.trim()!==""))},j=x=>{x.preventDefault(),(a.current?.value||"")+(o.current?.value||"")+(l.current?.value||"")+(s.current?.value||"")+(t.current?.value||"")+(f.current?.value||"")==="123456"?(y.success("كود صحيح"),p("/resetPassword")):y.error("كود غير صحيح")};return e.jsx(e.Fragment,{children:e.jsxs(g,{w:"md:min-w-sm",children:[e.jsx(b,{background:"gradient-primary",icon:e.jsx(C,{size:36,className:"text-white"}),title:"تحقق من بريدك الإلكتروني",des:"أدخل الكود المكون من 6 أرقام الذي أرسلناه إلى:"}),e.jsx("p",{className:"text-center text-primary-500",children:"example@email.com"}),e.jsxs("form",{className:"space-y-5 font-main",onSubmit:j,children:[e.jsxs("div",{className:"mt-6",children:[e.jsx(N,{text:"كود التحقق"}),e.jsxs("div",{className:"flex gap-3 justify-center ltr",children:[e.jsx(u,{ref:a,next:o,onKeyUp:c}),e.jsx(u,{ref:o,next:l,prev:a,onKeyUp:c}),e.jsx(u,{ref:l,next:s,prev:o,onKeyUp:c}),e.jsx(u,{ref:s,next:t,prev:l,onKeyUp:c}),e.jsx(u,{ref:t,next:f,prev:s,onKeyUp:c}),e.jsx(u,{ref:f,prev:t,onKeyUp:c})]})]}),e.jsx("button",{disabled:!d,className:`mt-4 px-6 w-full py-2 rounded-xl text-white font-semibold transition
            ${d?"bg-primary-600 hover:bg-primary-700":"bg-gray-400 cursor-not-allowed"}`,children:"التحقق من الكود"})]}),e.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200 flex justify-center items-center flex-col space-y-1 font-main",children:[e.jsx("p",{className:"text-center text-text-heading text-sm",children:"لم تستلم الكود؟"}),e.jsx("button",{type:"button",disabled:n>0,className:`text-sm ${n>0?"text-gray-400 cursor-not-allowed":"text-primary-600 hover:underline"}`,onClick:()=>m(60),children:"إعادة إرسال الكود"}),n>0&&e.jsxs("p",{className:"text-sm",children:["يمكنك إعادة الإرسال بعد"," ",e.jsx("span",{className:"text-primary-600 font-bold",children:n})," ثانية"]}),e.jsx(w,{textSize:"text-md",url:"/login",icon:e.jsx(K,{size:18,className:"group-hover:translate-x-1 transition-transform"}),text:"العوده لتسجيل الدخول",algin:"text-center",color:"text-primary-500",hover:"hover:text-primary-700"})]}),e.jsx(I,{bg:"bg-primary-100",icon:e.jsx(R,{size:16,className:"text-white"}),backgroundIcon:"gradient-primary",title:"نصيحة أمنية",des:"الكود صالح لمدة 10 دقائق فقط. لا تشارك هذا الكود مع أي شخص."})]})})};export{D as default};
