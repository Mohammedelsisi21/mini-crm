import{r as j,j as e}from"./index-GiB1n68U.js";import{C as p}from"./CompCateCard-D5yAzICX.js";import{M as C}from"./MainCardPage-Ca6e0RWS.js";import{C as g,a as u,M as F,P as S,T as k,b as I}from"./TableToolbar-C12kWDow.js";import{F as d}from"./FeatureIcon-DwaI1AJi.js";import{B as c}from"./Button-B-yV4_qx.js";import{L as n}from"./Label-DdmoZ76R.js";import{I as m}from"./Input-C_wV3xrq.js";import{u as v,o as f,E as l,c as y}from"./index-BumHAsmO.js";import{T as N}from"./Textarea-DJP-YcAK.js";import{S as x}from"./Select-1l8pBEKg.js";import{U as b}from"./user-BdhzKYcF.js";import{c as L}from"./createLucideIcon-CQzeoXZc.js";import{C as M}from"./circle-alert-DflT5wVI.js";import{C as O}from"./clock-K5kzRWhy.js";import{C as z}from"./circle-check-big-DL2hV-Z_.js";import{S as P}from"./star-D_ngc-DK.js";import"./search-B9SaS4nm.js";import"./chevron-down-CM_C3hU2.js";const A=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],T=L("triangle-alert",A),E=({complaint:i})=>{const[s,r]=j.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(g,{variant:"view",onClick:()=>r(!0)}),e.jsxs(u,{variant:"view",desc:"عرض تفاصيل الشكوى.",isOpen:s,setIsOpen:r,children:[e.jsxs("div",{className:"space-y-4 font-main text-gray-700",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold",children:"اسم العميل: "}),i.username]})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold",children:"نوع المشكلة: "}),i.issueType]})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold",children:"الوصف: "}),i.description]})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold",children:"الحالة: "}),i.status]})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold",children:"الأولوية: "}),i.priority]})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold",children:"الموظف المسؤول: "}),i.assignedTo]})})]}),e.jsx("div",{className:"flex gap-3 pt-4 justify-end",children:e.jsx(c,{ariaLabel:"cancel-view",variant:"blue",w:"w-fit",onClick:()=>r(!1),children:"إغلاق"})})]})]})},_=({complaint:i})=>{const[s,r]=j.useState(!1),{register:o,handleSubmit:t,formState:{errors:a}}=v({defaultValues:i,resolver:f(y)}),h=t(w=>{console.log(w),r(!1)});return e.jsxs(e.Fragment,{children:[e.jsx(g,{variant:"update",onClick:()=>r(!0)}),e.jsx(u,{variant:"update",isOpen:s,setIsOpen:r,children:e.jsxs("form",{className:"space-y-5 font-main",onSubmit:h,children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"username",text:"اسم العميل"}),e.jsx(m,{...o("username"),type:"text",name:"username",id:"username",pl:"pl-4",error:!!a.username,placeholder:"أدخل اسم العميل",autoFocus:!0,icon:e.jsx(b,{size:24})}),e.jsx(l,{error:a.username?.message})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"issueType",text:"نوع المشكلة"}),e.jsx(m,{...o("issueType"),type:"text",name:"issueType",id:"issueType",pl:"pl-4",error:!!a.issueType,placeholder:"ادخل نوع المشكلة",autoFocus:!0,icon:e.jsx(T,{size:24})}),e.jsx(l,{error:a.issueType?.message})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"description",text:"وصف التواصل"}),e.jsx(N,{...o("description"),name:"description",id:"description",error:!!a.description,placeholder:"أدخل وصف للتواصل"}),e.jsx(l,{error:a.description?.message})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"status",text:"اختر الحالة"}),e.jsxs(x,{id:"status",...o("status"),error:!!a.status,children:[e.jsx("option",{value:"",children:"الحالة الحالة"}),e.jsx("option",{value:"new",children:"جديد"}),e.jsx("option",{value:"in_progress",children:"قيد المعالجة"}),e.jsx("option",{value:"processing",children:"قيد الحل"}),e.jsx("option",{value:"resolved",children:"تم الحل"}),e.jsx("option",{value:"rejected",children:"مرفوضه"})]}),e.jsx(l,{error:a.status?.message})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"priority",text:"اختر الأولوية"}),e.jsxs(x,{id:"priority",...o("priority"),error:!!a.priority,children:[e.jsx("option",{value:"",children:"اختر الأولوية"}),e.jsx("option",{value:"urgent",children:"عاجلة"}),e.jsx("option",{value:"medium",children:"متوسطة"}),e.jsx("option",{value:"normal",children:"عادي"})]}),e.jsx(l,{error:a.priority?.message})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"priority",text:"الموظف"}),e.jsxs(x,{id:"assignedTo",...o("assignedTo"),error:!!a.assignedTo,children:[e.jsx("option",{value:"",children:"اختر الموظف"}),e.jsx("option",{value:"1",children:"نور الدين"}),e.jsx("option",{value:"2",children:"محمد حسن"}),e.jsx("option",{value:"3",children:"سارة أحمد"})]}),e.jsx(l,{error:a.assignedTo?.message})]}),e.jsxs("div",{className:"flex gap-3 pt-4 justify-end",children:[e.jsx(c,{ariaLabel:"cancel-update",variant:"outline",w:"w-fit",onClick:()=>r(!1),children:"إلغاء"}),e.jsx(c,{ariaLabel:"cancel-update",type:"submit",variant:"warning",w:"w-fit",children:"تحديث"})]})]})})]})},B=({id:i})=>{const[s,r]=j.useState(!1),o=()=>{console.log(i),r(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(g,{variant:"delete",onClick:()=>r(!0)}),e.jsxs(u,{desc:"هل أنت متأكد من حذف هذة المشكلة؟ لا يمكن استرجاعه.",variant:"delete",isOpen:s,setIsOpen:r,children:[e.jsxs("div",{className:"py-4 font-main text-gray-700",children:[e.jsx("p",{children:"سيتم حذف بيانات هذة المشكلة نهائيًا."}),e.jsx("p",{className:"mt-1",children:"لن تتمكن من استعادة المعلومات بعد الحذف."})]}),e.jsxs("div",{className:"flex gap-3 pt-4 justify-end",children:[e.jsx(c,{ariaLabel:"cancel-delete",variant:"outline",w:"w-fit",onClick:()=>r(!1),children:"إلغاء"}),e.jsx(c,{ariaLabel:"confirm-delete",variant:"danger",w:"w-fit",type:"submit",onClick:o,children:"حذف المشكلة"})]})]})]})},U=[{username:"أحمد محمد",issueType:"تأخر في التوصيل",description:"العميل يشتكي من تأخر كبير في توصيل الطلب.",priority:"عاجل",status:"جديدة",since:4,assignedTo:"سارة أحمد"},{username:"فاطمة علي",issueType:"جودة المنتج",description:"العميلة غير راضية عن جودة التفصيل.",priority:"متوسط",status:"قيد المعالجة",since:6,assignedTo:"محمد حسن"},{username:"عمر خالد",issueType:"خدمة العملاء",description:"سوء متابعة بعد الاستلام.",priority:"عادي",status:"قيد المعالجة",since:2,assignedTo:"نور الدين"}],D=()=>{const i=["العميل","نوع المشكلة","الوصف","الأولوية","الحالة","منذ","تم التكليف","الإجراءات"];return e.jsx(F,{dataText:i,children:U.map((s,r)=>e.jsxs("tr",{className:"hover:bg-primary-50 transition-all group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-gradient-primary w-11 h-11 rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"text-white font-bold text-sm",children:s.username[0]})}),e.jsx("div",{children:e.jsx("p",{className:"font-bold text-gray-800",children:s.username})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("p",{className:"text-gray-700 font-medium",children:s.issueType})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("p",{className:"text-gray-700 font-medium",children:s.description})}),e.jsx("td",{className:"px-6 py-4",children:s.priority==="عاجل"?e.jsx(d,{color:"error",text:s.priority}):s.priority==="متوسط"?e.jsx(d,{color:"warning",text:s.priority}):e.jsx(d,{color:"default",text:s.priority})}),e.jsx("td",{className:"px-6 py-4",children:s.status==="جديدة"?e.jsx(d,{color:"error",text:s.status}):s.status==="قيد المعالجة"?e.jsx(d,{color:"warning",text:s.status}):e.jsx(d,{color:"default",text:s.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("p",{className:"text-gray-600 text-sm",children:["منذ ",s.since," ",s.since===1?"يوم":"أيام"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("p",{className:"text-gray-700 font-medium",children:s.assignedTo})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{complaint:s}),e.jsx(_,{complaint:s}),e.jsx(B,{id:r})]})})]},r))})},V=()=>{const[i,s]=j.useState(!1),{register:r,handleSubmit:o,formState:{errors:t}}=v({resolver:f(y)}),a=o(h=>{console.log(h),s(!1)});return e.jsxs(e.Fragment,{children:[e.jsxs(c,{ariaLabel:"add-cummunication",w:"w-fit",onClick:()=>s(!0),children:[e.jsx(S,{size:20}),e.jsx("span",{children:"إضافة شكوي"})]}),e.jsx(u,{variant:"create",isOpen:i,setIsOpen:s,children:e.jsxs("form",{className:"space-y-5 font-main",onSubmit:a,children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"username",text:"اسم العميل"}),e.jsx(m,{...r("username"),type:"text",name:"username",id:"username",pl:"pl-4",error:!!t.username,placeholder:"أدخل اسم العميل",autoFocus:!0,icon:e.jsx(b,{size:24})}),e.jsx(l,{error:t.username?.message})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"issueType",text:"نوع المشكلة"}),e.jsx(m,{...r("issueType"),type:"text",name:"issueType",id:"issueType",pl:"pl-4",error:!!t.issueType,placeholder:"ادخل نوع المشكلة",autoFocus:!0,icon:e.jsx(T,{size:24})}),e.jsx(l,{error:t.issueType?.message})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"description",text:"وصف التواصل"}),e.jsx(N,{...r("description"),name:"description",id:"description",error:!!t.description,placeholder:"أدخل وصف للتواصل"}),e.jsx(l,{error:t.description?.message})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"status",text:"اختر الحالة"}),e.jsxs(x,{id:"status",...r("status"),error:!!t.status,children:[e.jsx("option",{value:"",children:"الحالة الحالة"}),e.jsx("option",{value:"new",children:"جديد"}),e.jsx("option",{value:"in_progress",children:"قيد المعالجة"}),e.jsx("option",{value:"processing",children:"قيد الحل"}),e.jsx("option",{value:"resolved",children:"تم الحل"}),e.jsx("option",{value:"rejected",children:"مرفوضه"})]}),e.jsx(l,{error:t.status?.message})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"priority",text:"اختر الأولوية"}),e.jsxs(x,{id:"priority",...r("priority"),error:!!t.priority,children:[e.jsx("option",{value:"",children:"اختر الأولوية"}),e.jsx("option",{value:"urgent",children:"عاجلة"}),e.jsx("option",{value:"medium",children:"متوسطة"}),e.jsx("option",{value:"normal",children:"عادي"})]}),e.jsx(l,{error:t.priority?.message})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"priority",text:"الموظف"}),e.jsxs(x,{id:"assignedTo",...r("assignedTo"),error:!!t.assignedTo,children:[e.jsx("option",{value:"",children:"اختر الموظف"}),e.jsx("option",{value:"1",children:"نور الدين"}),e.jsx("option",{value:"2",children:"محمد حسن"}),e.jsx("option",{value:"3",children:"سارة أحمد"})]}),e.jsx(l,{error:t.assignedTo?.message})]}),e.jsxs("div",{className:"flex gap-3 pt-4 justify-end",children:[e.jsx(c,{ariaLabel:"cancel-create",variant:"outline",w:"w-fit",onClick:()=>s(!1),children:"إلغاء"}),e.jsx(c,{ariaLabel:"cancel-create",type:"submit",variant:"success",w:"w-fit",children:"حفظ"})]})]})})]})},le=()=>e.jsxs("div",{className:"space-y-5",children:[e.jsx(C,{title:"إدارة الشكاوى",des:"متابعة وحل شكاوى العملاء لتحسين الخدمة",children:e.jsx(V,{})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 w-full",children:[e.jsx(p,{variant:"error",Icon:M,text:"عاجل",number:8,title:"شكاوى قيد المعالجة"}),e.jsx(p,{variant:"warning",Icon:O,text:"متابعة",number:12,title:"شكاوى تحت المراجعة"}),e.jsx(p,{variant:"success",Icon:z,text:"تم",number:145,title:"شكاوى محلولة"}),e.jsx(p,{variant:"primary",Icon:P,text:"معدل",number:92,title:"معدل الحل"})]}),e.jsx(k,{placeholder:"البحث عن المشكلات..."}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx(D,{}),e.jsx(I,{})]})]});export{le as default};
